<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia Site Renderer 1.8.1 from org.apache.maven.plugins:maven-pmd-plugin:3.11.0:cpd at 2019-03-28 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>software.amazon.ion:ion-java &#x2013; CPD Results</title>
    <style type="text/css" media="all">
      @import url("./css/maven-base.css");
      @import url("./css/maven-theme.css");
      @import url("./css/site.css");
    </style>
    <link rel="stylesheet" href="./css/print.css" type="text/css" media="print" />
    <meta http-equiv="Content-Language" content="en" />
    
  </head>
  <body class="composite">
    <div id="banner">
<div id="bannerLeft">
software.amazon.ion:ion-java
</div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
      <div class="xleft">
        <span id="publishDate">Last Published: 2019-03-28</span>
          &nbsp;| <span id="projectVersion">Version: 1.3.1</span>
      </div>
      <div class="xright"><a href="./" title="software.amazon.ion:ion-java">software.amazon.ion:ion-java</a>      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
       <h5>Project Documentation</h5>
    <ul>
     <li class="collapsed"><a href="project-info.html" title="Project Information">Project Information</a></li>
     <li class="expanded"><a href="project-reports.html" title="Project Reports">Project Reports</a>
      <ul>
       <li class="none"><a href="jacoco/index.html" title="JaCoCo">JaCoCo</a></li>
       <li class="none"><a href="apidocs/index.html" title="Ion Java Javadoc">Ion Java Javadoc</a></li>
       <li class="none"><a href="findbugs.html" title="FindBugs">FindBugs</a></li>
       <li class="none"><strong>CPD</strong></li>
       <li class="none"><a href="pmd.html" title="PMD">PMD</a></li>
       <li class="none"><a href="xref/index.html" title="Source Xref">Source Xref</a></li>
       <li class="none"><a href="xref-test/index.html" title="Test Source Xref">Test Source Xref</a></li>
      </ul></li>
    </ul>
      <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
      </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
<div class="section">
<h2><a name="CPD_Results"></a>CPD Results</h2>
<p>The following document contains the results of PMD's  <a class="externalLink" href="https://pmd.github.io/latest/pmd_userdocs_cpd.html">CPD</a> 6.8.0.</p></div>
<div class="section">
<h2><a name="Duplications"></a>Duplications</h2>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>software/amazon/ion/impl/IonReaderBinaryUserX.java</td>
<td><a href="./xref/software/amazon/ion/impl/IonReaderBinaryUserX.html#L260">260</a></td></tr>
<tr class="a">
<td>software/amazon/ion/impl/IonReaderTextUserX.java</td>
<td><a href="./xref/software/amazon/ion/impl/IonReaderTextUserX.html#L219">219</a></td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>    }

    //
    //  This code handles the skipped symbol table
    //  support - it is cloned in IonReaderTextUserX,
    //  IonReaderBinaryUserX and _Private_IonWriterBase
    //
    //  SO ANY FIXES HERE WILL BE NEEDED IN THOSE
    //  THREE LOCATIONS AS WELL.
    //
    private int _symbol_table_top = 0;
    private SymbolTable[] _symbol_table_stack = new SymbolTable[3]; // 3 is rare, IVM followed by a local sym tab with open content
    private void clear_system_value_stack()
    {
        while (_symbol_table_top &gt; 0) {
            _symbol_table_top--;
            _symbol_table_stack[_symbol_table_top] = null;
        }
    }
    private void push_symbol_table(SymbolTable symbols)
    {
        assert(symbols != null);
        if (_symbol_table_top &gt;= _symbol_table_stack.length) {
            int new_len = _symbol_table_stack.length * 2;
            SymbolTable[] temp = new SymbolTable[new_len];
            System.arraycopy(_symbol_table_stack, 0, temp, 0, _symbol_table_stack.length);
            _symbol_table_stack = temp;
        }
        _symbol_table_stack[_symbol_table_top++] = symbols;
    }
    @Override
    public SymbolTable pop_passed_symbol_table()
    {
        if (_symbol_table_top &lt;= 0) {
            return null;
        }
        _symbol_table_top--;
        SymbolTable symbols = _symbol_table_stack[_symbol_table_top];
        _symbol_table_stack[_symbol_table_top] = null;
        return symbols;
    }</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>software/amazon/ion/impl/IonReaderBinaryUserX.java</td>
<td><a href="./xref/software/amazon/ion/impl/IonReaderBinaryUserX.html#L229">229</a></td></tr>
<tr class="a">
<td>software/amazon/ion/impl/IonReaderTextUserX.java</td>
<td><a href="./xref/software/amazon/ion/impl/IonReaderTextUserX.html#L182">182</a></td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>    }

    private void validateSymbolToken(SymbolToken symbol) {
        if (symbol != null) {
            if (symbol.getText() == null &amp;&amp; symbol.getSid() &gt; getSymbolTable().getMaxId()) {
                throw new UnknownSymbolException(symbol.getSid());
            }
        }
    }

    @Override
    public SymbolToken[] getTypeAnnotationSymbols() {
        SymbolToken[] annotations = super.getTypeAnnotationSymbols();
        for (SymbolToken annotation : annotations) {
            validateSymbolToken(annotation);
        }
        return annotations;
    }

    @Override
    public final SymbolToken getFieldNameSymbol() {
        SymbolToken fieldName = super.getFieldNameSymbol();
        validateSymbolToken(fieldName);
        return fieldName;
    }

    @Override
    public final SymbolToken symbolValue() {
        SymbolToken symbol = super.symbolValue();
        validateSymbolToken(symbol);
        return symbol;
    }</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>software/amazon/ion/impl/lite/ReverseBinaryEncoder.java</td>
<td><a href="./xref/software/amazon/ion/impl/lite/ReverseBinaryEncoder.html#L453">453</a></td></tr>
<tr class="a">
<td>software/amazon/ion/impl/lite/ReverseBinaryEncoder.java</td>
<td><a href="./xref/software/amazon/ion/impl/lite/ReverseBinaryEncoder.html#L542">542</a></td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>            myBuffer[offset]     = (byte) ( v &gt;&gt;&gt; (7 * 3));
            myBuffer[offset + 1] = (byte) ((v &gt;&gt;&gt; (7 * 2)) &amp; 0x7f);
            myBuffer[offset + 2] = (byte) ((v &gt;&gt;&gt; (7 * 1)) &amp; 0x7f);
            myBuffer[offset + 3] = (byte) ( v | 0x80);
        }
        else                                  // 5 bytes - 32 bits used - 0x7fffffff max (Integer.MAX_VALUE)
        {
            if ((offset -= 5) &lt; 0) {
                offset = growBuffer(offset);
            }
            myBuffer[offset]     = (byte) ( v &gt;&gt;&gt; (7 * 4));</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>software/amazon/ion/impl/IonReaderTreeUserX.java</td>
<td><a href="./xref/software/amazon/ion/impl/IonReaderTreeUserX.html#L135">135</a></td></tr>
<tr class="a">
<td>software/amazon/ion/impl/PrivateIonWriterBase.java</td>
<td><a href="./xref/software/amazon/ion/impl/PrivateIonWriterBase.html#L429">429</a></td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>        return (next_type != null);
    }
    //
    //  This code handles the skipped symbol table
    //  support - it is cloned in IonReaderTextUserX
    //  and IonReaderBinaryUserX
    //
    //  SO ANY FIXES HERE WILL BE NEEDED IN THOSE
    //  TWO LOCATIONS AS WELL.
    //
    private int _symbol_table_top = 0;
    private SymbolTable[] _symbol_table_stack = new SymbolTable[3]; // 3 is rare, IVM followed by a local sym tab with open content
    private void clear_system_value_stack()
    {
        while (_symbol_table_top &gt; 0) {
            _symbol_table_top--;
            _symbol_table_stack[_symbol_table_top] = null;
        }
    }
    private void push_symbol_table(SymbolTable symbols)
    {
        assert(symbols != null);
        if (_symbol_table_top &gt;= _symbol_table_stack.length) {
            int new_len = _symbol_table_stack.length * 2;
            SymbolTable[] temp = new SymbolTable[new_len];
            System.arraycopy(_symbol_table_stack, 0, temp, 0, _symbol_table_stack.length);
            _symbol_table_stack = temp;
        }
        _symbol_table_stack[_symbol_table_top++] = symbols;
    }
    public SymbolTable pop_passed_symbol_table()</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>software/amazon/ion/impl/IonReaderBinaryUserX.java</td>
<td><a href="./xref/software/amazon/ion/impl/IonReaderBinaryUserX.html#L260">260</a></td></tr>
<tr class="a">
<td>software/amazon/ion/impl/IonReaderTextUserX.java</td>
<td><a href="./xref/software/amazon/ion/impl/IonReaderTextUserX.html#L219">219</a></td></tr>
<tr class="b">
<td>software/amazon/ion/impl/IonReaderTreeUserX.java</td>
<td><a href="./xref/software/amazon/ion/impl/IonReaderTreeUserX.html#L136">136</a></td></tr>
<tr class="a">
<td>software/amazon/ion/impl/PrivateIonWriterBase.java</td>
<td><a href="./xref/software/amazon/ion/impl/PrivateIonWriterBase.html#L430">430</a></td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>    }

    //
    //  This code handles the skipped symbol table
    //  support - it is cloned in IonReaderTextUserX,
    //  IonReaderBinaryUserX and _Private_IonWriterBase
    //
    //  SO ANY FIXES HERE WILL BE NEEDED IN THOSE
    //  THREE LOCATIONS AS WELL.
    //
    private int _symbol_table_top = 0;
    private SymbolTable[] _symbol_table_stack = new SymbolTable[3]; // 3 is rare, IVM followed by a local sym tab with open content
    private void clear_system_value_stack()
    {
        while (_symbol_table_top &gt; 0) {
            _symbol_table_top--;
            _symbol_table_stack[_symbol_table_top] = null;
        }
    }
    private void push_symbol_table(SymbolTable symbols)
    {
        assert(symbols != null);
        if (_symbol_table_top &gt;= _symbol_table_stack.length) {
            int new_len = _symbol_table_stack.length * 2;
            SymbolTable[] temp = new SymbolTable[new_len];
            System.arraycopy(_symbol_table_stack, 0, temp, 0, _symbol_table_stack.length);
            _symbol_table_stack = temp;
        }
        _symbol_table_stack[_symbol_table_top++] = symbols;
    }</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>software/amazon/ion/impl/bin/WriteBuffer.java</td>
<td><a href="./xref/software/amazon/ion/impl/bin/WriteBuffer.html#L597">597</a></td></tr>
<tr class="a">
<td>software/amazon/ion/impl/bin/WriteBuffer.java</td>
<td><a href="./xref/software/amazon/ion/impl/bin/WriteBuffer.html#L631">631</a></td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>        data[limit++] = (byte) (value &gt;&gt; UINT_7_OCTET_SHIFT);
        data[limit++] = (byte) (value &gt;&gt; UINT_6_OCTET_SHIFT);
        data[limit++] = (byte) (value &gt;&gt; UINT_5_OCTET_SHIFT);
        data[limit++] = (byte) (value &gt;&gt; UINT_4_OCTET_SHIFT);
        data[limit++] = (byte) (value &gt;&gt; UINT_3_OCTET_SHIFT);
        data[limit++] = (byte) (value &gt;&gt; UINT_2_OCTET_SHIFT);
        data[limit++] = (byte) (value                      );
        block.limit = limit;
    }

    private void writeUInt64Slow(long value)</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>software/amazon/ion/impl/IonTokenConstsX.java</td>
<td><a href="./xref/software/amazon/ion/impl/IonTokenConstsX.html#L832">832</a></td></tr>
<tr class="a">
<td>software/amazon/ion/impl/IonWriterSystemText.java</td>
<td><a href="./xref/software/amazon/ion/impl/IonWriterSystemText.html#L551">551</a></td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>        switch (type) {
        case NULL:      nullimage = &quot;null&quot;;           break;
        case BOOL:      nullimage = &quot;null.bool&quot;;      break;
        case INT:       nullimage = &quot;null.int&quot;;       break;
        case FLOAT:     nullimage = &quot;null.float&quot;;     break;
        case DECIMAL:   nullimage = &quot;null.decimal&quot;;   break;
        case TIMESTAMP: nullimage = &quot;null.timestamp&quot;; break;
        case SYMBOL:    nullimage = &quot;null.symbol&quot;;    break;
        case STRING:    nullimage = &quot;null.string&quot;;    break;
        case BLOB:      nullimage = &quot;null.blob&quot;;      break;
        case CLOB:      nullimage = &quot;null.clob&quot;;      break;
        case SEXP:      nullimage = &quot;null.sexp&quot;;      break;
        case LIST:      nullimage = &quot;null.list&quot;;      break;
        case STRUCT:    nullimage = &quot;null.struct&quot;;    break;

        default: throw new IllegalStateException(&quot;unexpected type &quot; + type);
        }</pre></div></td></tr></table></div>
      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
        Copyright &#169;      2019.All rights reserved.      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
